
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Git操作メモ &#8212; 昨日の豆腐 tofulog</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="Sphinx操作メモ" href="sphinx.html" />
    <link rel="prev" title="操作メモ" href="operation.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="git">
<h1>Git操作メモ<a class="headerlink" href="#git" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><a class="reference external" href="https://anond.hatelabo.jp/20190203175803">Gitの概要</a></p>
<p>Git（バージョン管理ツール）の使い方とGitHub（Git用のサーバー）の使い方</p>
<p><a class="reference external" href="https://services.github.com/on-demand/downloads/ja/github-git-cheat-sheet.pdf">GitHubチートシート</a></p>
<div class="section" id="id2">
<h2>Gitの導入<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a href="#id3"><span class="problematic" id="id4">`</span></a>ここ &lt;<a class="reference external" href="https://employment.en-japan.com/engineerhub/entry/2017/01/31/110000">https://employment.en-japan.com/engineerhub/entry/2017/01/31/110000</a>&gt;`_がわかりやすい。</p>
<p>Git for Windowsをダウンロードしてインストール</p>
<p>SSHを作成、名称変更、GitHubに設定
名前とメールアドレスの登録
git config --global user.name &quot;【ユーザー名】&quot;
git config --global user.email 【メールアドレス】</p>
<p>SSHの鍵の取得。以下を入力し鍵のファイル名をid_rsa_githubとし（デフォルトでも別に良い）、パスワードを設定する。
ssh-keygen -t rsa -b 4096 -C &quot;コメント、何の鍵かわかるように&quot;</p>
<p>ファイルが二つ出力される。
.pub拡張子がついている公開鍵は、GitHubなど、SSHで接続したい先のサービスに登録しておくもの</p>
<p>SSHのconfigファイルを作成する。
Host github github.com</p>
<blockquote>
<div>HostName github.com
User git
IdentityFile ~/.ssh/id_rsa_github</div></blockquote>
<p>と記述したテキストファイルをconfigという名称にして~/.sshに保存する。</p>
<p>Githubにアカウントを作る。
GitHubのページの右上端にあるアイコンをクリックして、アカウントメニューの中にある「Settings」を開く。
「SSH and GPG keys」タブを選択し、「New SSH key」をクリックする。
「Title」にはどのPC・サーバに置かれた鍵に対する公開鍵なのか分かるよう、PC名・サーバ名などを入れる。
「Key」には、先ほど作成したid_rsa_github.pubをエディタで開き、中の文字列をコピーしてそのまま貼り付ける。</p>
<p>接続の確認。以下を入力し、yesと答えて先ほどのパスワードを入力する。
ssh github</p>
<p>以下が出力されれば成功。
Hi (ユーザー名)! You've successfully authenticated, but GitHub does not provide shell access.</p>
</div>
<div class="section" id="id5">
<h2>プロジェクトの設定<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>初期コミットはReadme.mdやらlicense.txtやらをとりあえず追加しておく。
.gitignoreを使うと無視する（Gitのトラッキングの対象外とする）ファイル or ディレクトリを指定できる。
<a class="reference external" href="https://qiita.com/anqooqie/items/110957797b3d5280c44f">ドキュメント</a></p>
</div>
<div class="section" id="id7">
<h2>GitHubのサイトの作成<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>リポジトリ直下にdocsディレクトリを作りhtml一式入れる。
空のファイルで名称を&quot;.nojekyll&quot;にしたものをdocsに置いておく。
リポジトリのSettingsのGitHub PagesのところでSourceでmaster branch/docs folderを指定する。
10分程度でdocs直下のindex.htmlが表示される。
サイトのアドレスはhttps://(アカウント名).github.io/(リポジトリ名)/</p>
</div>
<div class="section" id="id8">
<h2>リリース機能を使用する<a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>バージョン毎にファイルの登録ができる。
ZIPなどで一式をまとめておくとすぐに任意のバージョンを取り出せる。</p>
</div>
<div class="section" id="id9">
<h2>普段の操作<a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id10">
<h3>ファイルの追加、更新<a class="headerlink" href="#id10" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>cd 作業フォルダ
git add .
git commit -a -m &quot;コメント&quot;
git push origin master</p>
</div>
<div class="section" id="id11">
<h3>ファイルの削除<a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>cd 作業フォルダ
git rm 消すファイル
git rm -r 消すフォルダ
git commit -a -m &quot;remove&quot;</p>
</div>
<div class="section" id="id12">
<h3>現在のブランチを確認、移動<a class="headerlink" href="#id12" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git branch -a \現在存在するブランチの確認
git branch \今いるブランチの確認
git branch 移動したいブランチ \移動</p>
</div>
</div>
<div class="section" id="id13">
<h2>コメントのパターン<a class="headerlink" href="#id13" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>表記ゆれを減らすためにある程度パターンを作る。
はじめのコミット
git commit -a -m &quot;initial commit&quot;</p>
<p>ファイル追加
git commit -a -m &quot;add files&quot;</p>
<p>ファイルの更新
git commit -a -m &quot;update files&quot;</p>
<p>ファイル削除
git commit -a -m &quot;remove&quot;</p>
<p>Readmeの更新
git commit -a -m &quot;update Readme&quot;</p>
<p>訳文修正
git commit -a -m &quot;correct translation&quot;</p>
<p>サイトの更新
git commit -a -m &quot;update website&quot;</p>
</div>
<div class="section" id="id14">
<h2>プルリクのメモ<a class="headerlink" href="#id14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Modelica Buildings Libraryの場合
読む資料</p>
<p>git remote set-url origin <a class="reference external" href="https://github.com/kinonotofu/modelica-buildings.git">https://github.com/kinonotofu/modelica-buildings.git</a></p>
</div>
<div class="section" id="id15">
<h2>その他操作<a class="headerlink" href="#id15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="vim">
<h3>Vimの操作<a class="headerlink" href="#vim" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>コメントの編集などに使用する。
i 文字入力
ESC コマンドモードにもどる
ZZ 上書き保存して終了
:w 変更を保存
:q! 保存せず終了</p>
</div>
<div class="section" id="id16">
<h3>コメントの編集<a class="headerlink" href="#id16" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git rebase -i HEAD~2 // HEADから2件のコミットメッセージ
pickの部分をeditもしくはeに変更後ファイルを保存し、
修正が完了したら--amendオプションを付けてコミットする。
git commit --amend
git rebase --continue</p>
</div>
<div class="section" id="id17">
<h3>作業用のブランチの作成<a class="headerlink" href="#id17" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git branch</p>
</div>
<div class="section" id="id18">
<h3>作業中のブランチの変更<a class="headerlink" href="#id18" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git checkout hoge</p>
</div>
<div class="section" id="id19">
<h3>既存リポジトリデータの取得<a class="headerlink" href="#id19" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>リポジトリのClone or downloadのアドレスをコピー
git clone <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:/hoge/hoge.git</p>
</div>
<div class="section" id="git-add">
<h3>git addの使用例<a class="headerlink" href="#git-add" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git add . //すべてのファイル・ディレクトリ
git add <a href="#id20"><span class="problematic" id="id21">*</span></a>.css //すべてのCSSファイル
git add -n //追加されるファイルを調べる
git add -u //変更されたファイルを追加する
git rm --cached //addしてしまったファイルを除外</p>
</div>
<div class="section" id="git-commit">
<h3>git commitの使用例<a class="headerlink" href="#git-commit" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git commit -a //変更のあったファイルすべて
git commit --amend //直前のコミットを取り消す
git commit -v //変更点を表示してコミット</p>
</div>
<div class="section" id="id22">
<h3>コミットの取り消し<a class="headerlink" href="#id22" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git reset --soft HEAD~2 // 最新のコミットから2件分をワークディレクトリの内容を保持し取り消す
git reset --hard HEAD~2 // 最新のコミットから2件分のワークディレクトリの内容とコミットを取り消す</p>
</div>
<div class="section" id="id23">
<h3>ブランチの作成/移動/削除/変更/一覧/<a class="headerlink" href="#id23" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git branch [branch_name]  //ブランチの作成
git checkout [branch_name]  //ブランチの移動
git branch -d [branch_name]  //ブランチの削除
git branch -m [branch_name]  //現在のブランチ名の変更
git branch // ローカルブランチの一覧
git branch -a //リモートとローカルのブランチの一覧
git branch -r //リモートブランチの一覧
git checkout -b branch_name origin/branch_name //リモートブランチへチェックアウト</p>
</div>
<div class="section" id="id24">
<h3>編集をマージ<a class="headerlink" href="#id24" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git checkout [branch_name]  //ブランチに移動
git commit -a -m &quot;コメント&quot;  //変更ファイルをコミット
git checkout master  //masterに移動
git merge [branch_name]  //差分をマージ
git push origin master  //ファイルの更新</p>
</div>
<div class="section" id="id25">
<h3>マージを取り消す<a class="headerlink" href="#id25" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git merge --abort  //コンフリクトが発生して一旦戻したい場合</p>
</div>
<div class="section" id="id26">
<h3>差分を確認する<a class="headerlink" href="#id26" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git diff
git diff HEAD^ //最後のコミットからの差分を表示
git diff --name-only HEAD^ //差分ファイルを表示
git diff file1.txt file2.txt //特定フィイルの差分
git diff commit1 commit2 //コミットの差分</p>
</div>
<div class="section" id="id27">
<h3>ログの表示<a class="headerlink" href="#id27" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git log //コミットのログが見れる
git reflog //いろいろ見れる
git reflog origin/branch_name //pushのログが見れる
git log --graph --name-status --pretty=format:&quot;%C(red)%h %C(green)%an %Creset%s %C(yellow)%d%Creset&quot;</p>
</div>
<div class="section" id="id28">
<h3>ファイルの名前変更<a class="headerlink" href="#id28" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git mv [変更前のファイル名] [変更後のファイル名]
git commit -a -m &quot;rename&quot;
git push origin master</p>
<p>git mv a/ b/                //ディレクトリ名の場合
git mv -f a.txt A.txt       //小文字から大文字はエラーが出るので-fで強制</p>
</div>
<div class="section" id="id29">
<h3>特定ファイルを特定のコミットに戻す<a class="headerlink" href="#id29" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git checkout [commit_id] [file_name]  //特定ファイルの指定
git commit -a -m &quot;return&quot; //戻した内容をコミット
git push origin master //変更をプッシュ</p>
</div>
<div class="section" id="id30">
<h3>今やってる作業を一時退避する<a class="headerlink" href="#id30" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git stash
git stash pop //戻す場合
git stash list //退避の一覧
git stash clear //退避の消去</p>
</div>
<div class="section" id="id31">
<h3>タグ<a class="headerlink" href="#id31" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git tag // タグの一覧表示
git tag -l 'v1.*' // パターンでタグを検索
git tag -a v0.0.0 -m 'version 0.0.0' // タグの作成
git push origin v0.0.0 // タグの共有</p>
</div>
<div class="section" id="id32">
<h3>ファイルの削除<a class="headerlink" href="#id32" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git rm [name]  //特定のファイルorディレクトリの削除
git rm *  //全ファイルorディレクトリ
git commit -a -m &quot;remove&quot;  //削除をコミット
git push origin master  //削除を反映</p>
</div>
<div class="section" id="add">
<h3>addの取り消し<a class="headerlink" href="#add" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>git reset HEAD
git reset HEAD {file_name}</p>
</div>
<div class="section" id="id33">
<h3>コンフリクトの解消<a class="headerlink" href="#id33" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>手動で解決する場合
コンフリクトを解消しファイルを保存後、下記のコマンドを実行
git add {file_name}
git commit {file_name} -m &quot;コミットメッセージ&quot;</p>
<p>自動で解決する場合
現在のブランチを正とする
git checkout --ours {fime_name}
マージで指定したブランチを正とする
git checkout --theirs {fime_name}
mergetoolを使って解決することもできます。</p>
</div>
<div class="section" id="id34">
<h3>リポジトリの削除<a class="headerlink" href="#id34" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>フォークしたけど消すときとか
自分のアカウント配下で削除したいプロジェクトを選択。
画面右の「Settings」を押下。
画面最下部の「Delete this repository」を押下。</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">tofulog</a></h1>








<h3>ナビゲーション</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../document/document.html">資料置き場</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../article.html">勉強まとめ</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="operation.html">操作メモ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modelica.html">Modelica</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../previousstudies/previousstudies.html">既往文献調査</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../article.html">勉強まとめ</a><ul>
  <li><a href="operation.html">操作メモ</a><ul>
      <li>Previous: <a href="operation.html" title="前の章へ">操作メモ</a></li>
      <li>Next: <a href="sphinx.html" title="次の章へ">Sphinx操作メモ</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018-2019, kinonotofu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/article/operation/git.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>